{% extends 'base_layout.html' %} {% block css%}
<script type="text/javascript" charset="UTF-8" src="{{ url_for('static',filename='ue/ueditor.config.js')}}"></script>
<script type="text/javascript" charset="UTF-8" src="{{ url_for('static',filename='ue/ueditor.all.min.js')}}"></script>
<script type="text/javascript" charset="UTF-8" src="{{ url_for('static',filename='ue/lang/zh-cn/zh-cn.js')}}"></script> {% endblock %} {% block page_content %}
<form method="post" enctype="multipart/form-data" id="myForm" onsubmit="mysubmit();return false;" >
    <div class="form-group">
        <label>标题</label>
        {{ form.title }} {% for v in form.title.errors %}
        <p style="color:red;">{{v}}</p>
        {% endfor %}
    </div>
    <div class="form-group">
        <label>存储名字</label>
        {{ form.saveName }} {% for v in form.saveName.errors %}
        <p style="color:red;">{{v}}</p>
        {% endfor %}
    </div>
    <div class="form-group">
        <label>存储路径</label>
        {{ form.toPath }} {% for v in form.toPath.errors %}
        <p style="color:red;">{{v}}</p>
        {% endfor %}
    </div>

    <div class="form-group" >
        <label>内容</label>
        {{ form.content }} {% for v in form.content.errors %}
        <p style="color:red;">{{v}}</p>
        {% endfor %}
    </div>
    
    {{ form.submit }} {{ form.csrf_token }}
</form>
{% endblock %} {% block js %}
<script>
//     var ue = UE.getEditor("content");

//     ue.ready(function(){
//     //设置编辑器的内容
//     // ue.execCommand( 'source');
//     // ue.setContent();
//     // //获取html内容，返回: <p>hello</p>
//     // var html = ue.getContent();
//     // //获取纯文本内容，返回: hello
//     // var txt = ue.getContentTxt();
// });

    function mysubmit() {
        // alert(ue.getContentTxt());
        $('#content').val(ue.getContentTxt())
        console.log($('#content').val())
        // return false;
        window.myForm.submit();


    }

    $(document).ready(function () {
        $("#m4").addClass("active");
    });

</script> {% endblock %}